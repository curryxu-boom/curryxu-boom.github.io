(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1250:function(e,t,r){"use strict";r.r(t);var s=r(4),a=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"开发规范"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发规范"}},[e._v("#")]),e._v(" 开发规范")]),e._v(" "),t("h2",{attrs:{id:"_0-实战案例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-实战案例"}},[e._v("#")]),e._v(" 0. 实战案例")]),e._v(" "),t("p",[e._v("本小节，提供大家开发管理后台的功能时，最常用的普通列表、树形列表、新增与修改的表单弹窗、详情表单弹窗的实战案例。")]),e._v(" "),t("h3",{attrs:{id:"_0-1-普通列表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-1-普通列表"}},[e._v("#")]),e._v(" 0.1 普通列表")]),e._v(" "),t("p",[e._v("可参考 [系统管理 -> 岗位管理] 菜单：")]),e._v(" "),t("ul",[t("li",[e._v("接口："),t("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-vue3/blob/master/src/api/system/post/index.ts",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("/src/api/system/post/index.ts")]),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("页面："),t("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-vue3/blob/master/src/views/system/post/index.vue",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("/src/views/system/post/index.vue")]),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("CRUD schemas："),t("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-vue3/blob/master/src/views/system/post/post.data.ts",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("/src/views/system/post/index.vue")]),t("OutboundLink")],1)])]),e._v(" "),t("p",[e._v("和 Vue 2.X 的差别主要如下：")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("api 内 "),t("code",[e._v("index.ts")]),e._v(" 与 vue2 基本一致，只不过 axios 封装了 get、post、 put、delete、upload、download 等方法，不用写 "),t("code",[e._v("method: 'get'")]),e._v(" 了")])]),e._v(" "),t("li",[t("p",[e._v("views 中，"),t("code",[e._v("index.vue")]),e._v(" 与 vue2 基本一致，本框架使用了 "),t("a",{attrs:{href:"https://vxetable.cn/",target:"_blank",rel:"noopener noreferrer"}},[e._v("vxe-table "),t("OutboundLink")],1),e._v("组件，并封装了 Search、Table、Form Descriptions 等组件，当然也继续支持 vue2 的写法")])]),e._v(" "),t("li",[t("p",[t("code",[e._v("post.data.ts")]),e._v(" 中，主要是表单校验 "),t("code",[e._v("rules")]),e._v(" 和表单 "),t("code",[e._v("crudSchemas")]),e._v("，通过修改 "),t("code",[e._v("crudSchemas")]),e._v(" 就可以控制增删改查的字段、输入框还是下拉框等等")])])]),e._v(" "),t("p",[e._v("为什么使用 vxe-table 替换 ElementUI Plus 自带的 Table 呢？")]),e._v(" "),t("p",[e._v("ElementUI Plus 自带的 Table 组件，虽然功能强大，但是存在明显的卡顿问题，当数据条数超过 30 条时可能就会出现。")]),e._v(" "),t("p",[e._v("相比来说，vxe-table 的性能要好很多，而且功能更加强大。它的文档地址是："),t("a",{attrs:{href:"https://vxetable.cn/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://vxetable.cn/"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"_0-2-树形列表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-树形列表"}},[e._v("#")]),e._v(" 0.2 树形列表")]),e._v(" "),t("p",[e._v("可参考 [系统管理 -> 部门管理] 菜单：")]),e._v(" "),t("ul",[t("li",[e._v("接口："),t("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-vue3/blob/master/src/api/system/dept/index.ts",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("/src/api/system/dept/index.ts")]),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("页面："),t("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-vue3/blob/master/src/views/system/post/dept.vue",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("/src/views/system/dept/index.vue")]),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("CRUD schemas："),t("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-vue3/blob/master/src/views/system/dept/dept.data.ts",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("/src/views/system/dept/index.vue")]),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_1-view-页面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-view-页面"}},[e._v("#")]),e._v(" 1. view 页面")]),e._v(" "),t("p",[e._v("在 "),t("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/tree/master/yudao-ui-admin-vue3/src/views",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("@views")]),e._v(" "),t("OutboundLink")],1),e._v("目录下，每个模块对应一个目录，它的所有功能的 "),t("code",[e._v(".vue")]),e._v(" 都放在该目录里。")]),e._v(" "),t("img",{attrs:{src:r(879)}}),e._v(" "),t("ul",[t("li",[e._v("一般来说，一个路由对应一个 "),t("code",[e._v(".vue")]),e._v(" 文件。")])]),e._v(" "),t("h3",{attrs:{id:"_1-1-crud-schemas"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-crud-schemas"}},[e._v("#")]),e._v(" 1.1 CRUD schemas")]),e._v(" "),t("p",[e._v("每个 "),t("code",[e._v(".vue")]),e._v(" 文件，可以对应一个它的 "),t("code",[e._v(".data.ts")]),e._v(" 文件，里面是 CRUD schemas，主要是表单校验 "),t("code",[e._v("rules")]),e._v(" 和表单 "),t("code",[e._v("crudSchemas")]),e._v("，通过修改 "),t("code",[e._v("crudSchemas")]),e._v(" 就可以控制增删改查的字段、输入框还是下拉框等等。如下图所示：")]),e._v(" "),t("img",{attrs:{src:r(880)}}),e._v(" "),t("p",[e._v("具体 "),t("code",[e._v("crudSchemas")]),e._v(" 的每个 "),t("code",[e._v("columns")]),e._v(" 字段，有哪些属性，可见 "),t("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-vue3/blob/master/src/hooks/web/useVxeCrudSchemas.ts#L17-L26",target:"_blank",rel:"noopener noreferrer"}},[e._v("VxeCrudSchema "),t("OutboundLink")],1),e._v("的定义。如下图所示：")]),e._v(" "),t("img",{attrs:{src:r(881)}}),e._v(" "),t("p",[e._v("疑问：为什么要使用 CRUD schemas 呢？")]),e._v(" "),t("p",[e._v("对于管理后台的每个模块，基本都是由如下四个元素组成：")]),e._v(" "),t("ul",[t("li",[e._v("1）Search 搜索")]),e._v(" "),t("li",[e._v("2）Table 列表")]),e._v(" "),t("li",[e._v("3）Form 表单 + Rule 校验")]),e._v(" "),t("li",[e._v("4）Descriptions 详情")])]),e._v(" "),t("p",[e._v("通过一个 CRUD schemas 的配置，可以快速实现这四个元素的功能，从而提升开发效率。")]),e._v(" "),t("h2",{attrs:{id:"_2-api-请求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-api-请求"}},[e._v("#")]),e._v(" 2. api 请求")]),e._v(" "),t("p",[e._v("在 "),t("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/tree/master/yudao-ui-admin-vue3/src/api",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("@/api")]),e._v(" "),t("OutboundLink")],1),e._v("目录下，每个模块对应一个 "),t("code",[e._v("index.ts")]),e._v(" API 文件。")]),e._v(" "),t("img",{attrs:{src:r(882)}}),e._v(" "),t("ul",[t("li",[e._v("API 方法：会调用 "),t("code",[e._v("request")]),e._v(" 方法，发起对后端 RESTful API 的调用。")]),e._v(" "),t("li",[t("code",[e._v("interface")]),e._v(" 类型：定义了 API 的请求参数和返回结果的类型，对应后端的 DTO 类型。")])]),e._v(" "),t("h2",{attrs:{id:"_3-component-组件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-component-组件"}},[e._v("#")]),e._v(" 3. component 组件")]),e._v(" "),t("h3",{attrs:{id:"_3-1-全局组件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-全局组件"}},[e._v("#")]),e._v(" 3.1 全局组件")]),e._v(" "),t("p",[e._v("在 "),t("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/tree/master/yudao-ui-admin-vue3/src/components",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("@/components")]),e._v(" "),t("OutboundLink")],1),e._v("目录下，实现"),t("strong",[e._v("全局")]),e._v("组件，被所有模块所公用。例如说，富文本编辑器、各种各搜索组件、封装的分页组件等等。")]),e._v(" "),t("img",{attrs:{src:r(883)}}),e._v(" "),t("h3",{attrs:{id:"_3-2-模块内组件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-模块内组件"}},[e._v("#")]),e._v(" 3.2 模块内组件")]),e._v(" "),t("p",[e._v("每个模块的业务组件，可实现在 "),t("code",[e._v("views")]),e._v(" 目录下，自己模块的目录的 "),t("code",[e._v("components")]),e._v(" 目录下，避免单个 "),t("code",[e._v(".vue")]),e._v(" 文件过大，降低维护成功。例如说，"),t("code",[e._v("@/views/pay/app/components/xxx.vue")]),e._v("。")]),e._v(" "),t("img",{attrs:{src:r(884)}}),e._v(" "),t("h2",{attrs:{id:"_4-style-样式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-style-样式"}},[e._v("#")]),e._v(" 4. style 样式")]),e._v(" "),t("p",[e._v("① 在 "),t("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/tree/master/yudao-ui-admin-vue3/src/styles",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("@/styles")]),e._v(" "),t("OutboundLink")],1),e._v("目录下，实现"),t("strong",[e._v("全局")]),e._v("样式，被所有页面所公用。")]),e._v(" "),t("img",{attrs:{src:r(885)}}),e._v(" "),t("p",[e._v("② 每个 "),t("code",[e._v(".vue")]),e._v(" 页面，可在 `` 标签中添加样式，注意需要添加 "),t("code",[e._v("scoped")]),e._v(" 表示只作用在当前页面里，避免造成全局的样式污染。")]),e._v(" "),t("img",{attrs:{src:r(886)}}),e._v(" "),t("p",[e._v("更多也可以看看如下两篇文档：")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://kailong110120130.gitee.io/vue-element-plus-admin-doc/guide/settings.html#%E6%A0%B7%E5%BC%8F%E9%85%8D%E7%BD%AE",target:"_blank",rel:"noopener noreferrer"}},[e._v("《vue-element-plus-admin —— 项目配置「样式配置」》"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://kailong110120130.gitee.io/vue-element-plus-admin-doc/guide/design.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("《vue-element-plus-admin —— 样式》"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_5-项目规范"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-项目规范"}},[e._v("#")]),e._v(" 5. 项目规范")]),e._v(" "),t("p",[e._v("可参考 "),t("a",{attrs:{href:"https://kailong110120130.gitee.io/vue-element-plus-admin-doc/dep/lint.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("《vue-element-plus-admin —— 项目规范》 "),t("OutboundLink")],1),e._v("文档。")])])}),[],!1,null,null,null);t.default=a.exports},879:function(e,t,r){e.exports=r.p+"assets/img/img.0371449e.png"},880:function(e,t,r){e.exports=r.p+"assets/img/img_1.eb320a68.png"},881:function(e,t,r){e.exports=r.p+"assets/img/img_2.d35d4978.png"},882:function(e,t,r){e.exports=r.p+"assets/img/img_3.0ccea90c.png"},883:function(e,t,r){e.exports=r.p+"assets/img/img_4.8953c9ba.png"},884:function(e,t,r){e.exports=r.p+"assets/img/img_5.c1207861.png"},885:function(e,t,r){e.exports=r.p+"assets/img/img_6.94506d03.png"},886:function(e,t,r){e.exports=r.p+"assets/img/img_7.9f2a2aae.png"}}]);