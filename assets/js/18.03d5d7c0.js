(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1179:function(t,r,e){"use strict";e.r(r);var a=e(4),s=Object(a.a)({},(function(){var t=this,r=t._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"接口文档"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#接口文档"}},[t._v("#")]),t._v(" 接口文档")]),t._v(" "),r("p",[t._v("项目使用 Swagger 实现 RESTful API 的接口文档，提供两种解决方案：")]),t._v(" "),r("p",[t._v("*【推荐】 "),r("a",{attrs:{href:"http://mtw.so/62me9n",target:"_blank",rel:"noopener noreferrer"}},[t._v("Apifox "),r("OutboundLink")],1),t._v("：强大的 API 工具，支持 API 文档、API 调试、API Mock、API 自动化测试")]),t._v(" "),r("ul",[r("li",[t._v("Knife4j：简易的 API 工具，仅支持 API 文档、API 调试")])]),t._v(" "),r("blockquote",[r("p",[t._v("Knife4j：简易的 API 工具，仅支持 API 文档、API 调试\n为什么选择 Swagger 呢？")]),t._v(" "),r("p",[t._v("Swagger 通过 Java 注解实现 API 接口文档的编写。相比使用 Java 注释的方式，注解提供更加规范的接口定义方式，开发体验更好。")]),t._v(" "),r("p",[t._v("如果你没有学习 Swagger，可以阅读 《芋道 Spring Boot API 接口文档 Swagger 入门 》 文章")])]),t._v(" "),r("h2",{attrs:{id:"_1-apifox-使用"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-apifox-使用"}},[t._v("#")]),t._v(" 1. Apifox 使用")]),t._v(" "),r("p",[t._v("本小节，我们来将项目中的 API 接口，一键导入到 Apifox 中，并使用它发起一次 API 的调用。")]),t._v(" "),r("h3",{attrs:{id:"_1-1-下载工具"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-下载工具"}},[t._v("#")]),t._v(" 1.1 下载工具")]),t._v(" "),r("p",[t._v("点击 "),r("a",{attrs:{href:"http://mtw.so/62me9n",target:"_blank",rel:"noopener noreferrer"}},[t._v("Apifox "),r("OutboundLink")],1),t._v("首页，下载对应的 Apifox 桌面版。如下图所示：")]),t._v(" "),r("blockquote",[r("p",[t._v("为什么要下载 Apifox 桌面版？")]),t._v(" "),r("p",[t._v("艿艿已经卸载 Postman，使用 Apifox 进行替代。国产软件，yyds 永远滴神！")]),t._v(" "),r("p",[t._v("国内很多互联网公司，包括百度、阿里、腾讯、字节跳动等等在内，都在使用 Apifox 作为 API 工具。")])]),t._v(" "),r("img",{staticStyle:{cursor:"zoom-in"},attrs:{src:e(370)}}),t._v(" "),r("p",[t._v("解压后，双击进行安装即可。黑色界面，非常酷炫。")]),t._v(" "),r("img",{staticStyle:{cursor:"zoom-in"},attrs:{src:e(371)}}),t._v(" "),r("h3",{attrs:{id:"_1-2-api-导入"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-api-导入"}},[t._v("#")]),t._v(" 1.2 API 导入")]),t._v(" "),r("p",[t._v("① 先点击「示例项目」，再点击「+」按钮，选择「导入」选项。")]),t._v(" "),r("img",{staticStyle:{cursor:"zoom-in"},attrs:{src:e(372)}}),t._v(" "),r("p",[t._v("② 先选择「URL 导入」按钮，填写 Swagger 数据 URL 为 "),r("code",[t._v("http://127.0.0.1:48080/v3/api-docs")]),t._v("。")]),t._v(" "),r("img",{staticStyle:{cursor:"zoom-in"},attrs:{src:e(373)}}),t._v(" "),r("p",[t._v("③ 先点击「提交」按钮，再点击「确认导入」按钮，完成 API 接口的导入。")]),t._v(" "),r("img",{staticStyle:{cursor:"zoom-in"},attrs:{src:e(374)}}),t._v(" "),r("p",[t._v("④ 导入完成后，点击「接口管理」按钮，可以查看到 API 列表。")]),t._v(" "),r("img",{staticStyle:{cursor:"zoom-in"},attrs:{src:e(375)}}),t._v(" "),r("h3",{attrs:{id:"_1-3-api-调试"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-api-调试"}},[t._v("#")]),t._v(" 1.3 API 调试")]),t._v(" "),r("p",[t._v("① 先点击右上角「请选择环境」，再点击「管理环境」选项，填写测试环境的地址为 "),r("code",[t._v("http://127.0.0.1:48080")]),t._v("，并进行保存。")]),t._v(" "),r("img",{staticStyle:{cursor:"zoom-in"},attrs:{src:e(376)}}),t._v(" "),r("p",[t._v("② 点击「管理后台 —— 认证」的「使用账号密码登录」接口，查看该 API 接口的定义。")]),t._v(" "),r("img",{staticStyle:{cursor:"zoom-in"},attrs:{src:e(377)}}),t._v(" "),r("p",[t._v("③ 点击「运行」按钮，填写 Headers 的 "),r("code",[t._v("tenant-id")]),t._v(" 为 1，再点击 Body 的「自动生成」按钮，最后点击「发送」按钮。")]),t._v(" "),r("img",{staticStyle:{cursor:"zoom-in"},attrs:{src:e(378)}}),t._v(" "),r("h2",{attrs:{id:"_2-knife4j-使用"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-knife4j-使用"}},[t._v("#")]),t._v(" 2. Knife4j 使用")]),t._v(" "),r("p",[t._v("浏览器访问 "),r("a",{attrs:{href:"http://127.0.0.1:48080/doc.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://127.0.0.1:48080/doc.html "),r("OutboundLink")],1),t._v("地址，使用 Knife4j 查看 API 接口文档。")]),t._v(" "),r("img",{staticStyle:{cursor:"zoom-in"},attrs:{src:e(379)}}),t._v(" "),r("p",[t._v("① 点击任意一个接口，进行接口的调用测试。这里，使用「管理后台 - 用户个中心」的“获得登录用户信息”举例子。")]),t._v(" "),r("p",[t._v("② 点击左侧「调试」按钮，并将请求头部的 "),r("code",[t._v("header-id")]),t._v(" 和 "),r("code",[t._v("Authorization")]),t._v(" 勾选上。")]),t._v(" "),r("p",[t._v("其中，"),r("code",[t._v("header-id")]),t._v(" 为租户编号，"),r("code",[t._v("Authorization")]),t._v(" 的 "),r("code",[t._v('"Bearer test"')]),t._v(" 后面为用户编号（模拟哪个用户操作）。")]),t._v(" "),r("p",[t._v("③ 点击「发送」按钮，即可发起一次 API 的调用。")]),t._v(" "),r("img",{staticStyle:{cursor:"zoom-in"},attrs:{src:e(380)}}),t._v(" "),r("h2",{attrs:{id:"_3-swagger-技术组件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-swagger-技术组件"}},[t._v("#")]),t._v(" 3. Swagger 技术组件")]),t._v(" "),r("p",[t._v("① 在 "),r("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/blob/master/yudao-framework/yudao-spring-boot-starter-web/pom.xml",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("yudao-spring-boot-starter-web")]),t._v(" "),r("OutboundLink")],1),t._v("技术组件的 "),r("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/blob/master/yudao-framework/yudao-spring-boot-starter-web/src/main/java/cn/iocoder/yudao/framework/swagger/package-info.java",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("swagger")]),t._v(" "),r("OutboundLink")],1),t._v("包，实现了对 Swagger 的封装。")]),t._v(" "),r("p",[t._v("② 如果想要禁用 Swagger 功能，可通过 "),r("code",[t._v("springdoc.api-docs.enable")]),t._v(" 配置项为 "),r("code",[t._v("false")]),t._v("。一般情况下，建议 prod 生产环境进行禁用，避免发生安全问题。")]),t._v(" "),r("img",{staticStyle:{cursor:"zoom-in"},attrs:{src:e(381)}})])}),[],!1,null,null,null);r.default=s.exports},370:function(t,r,e){t.exports=e.p+"assets/img/img.9b58b9e2.png"},371:function(t,r,e){t.exports=e.p+"assets/img/img_1.7832220c.png"},372:function(t,r,e){t.exports=e.p+"assets/img/img_2.fdad5440.png"},373:function(t,r,e){t.exports=e.p+"assets/img/img_3.60ae5577.png"},374:function(t,r,e){t.exports=e.p+"assets/img/img_4.540acc36.png"},375:function(t,r,e){t.exports=e.p+"assets/img/img_5.dd2d8fd3.png"},376:function(t,r,e){t.exports=e.p+"assets/img/img_6.6f10e85c.png"},377:function(t,r,e){t.exports=e.p+"assets/img/img_7.456d4fbd.png"},378:function(t,r,e){t.exports=e.p+"assets/img/img_8.be0ae680.png"},379:function(t,r,e){t.exports=e.p+"assets/img/img_9.e80f2184.png"},380:function(t,r,e){t.exports=e.p+"assets/img/img_10.2f202536.png"},381:function(t,r,e){t.exports=e.p+"assets/img/img_11.4b36e4eb.png"}}]);