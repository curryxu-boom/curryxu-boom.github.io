(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1236:function(s,a,t){"use strict";t.r(a);var n=t(4),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"linux-部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-部署"}},[s._v("#")]),s._v(" Linux 部署")]),s._v(" "),a("p",[s._v("本小节，讲解如何将前端 + 后端项目，"),a("strong",[s._v("使用 Shell 脚本")]),s._v("，部署到 dev 开发环境下的一台 Linux 服务器上。如下图所示：")]),s._v(" "),a("img",{attrs:{src:t(791)}}),s._v(" "),a("h2",{attrs:{id:"_1-配置-mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-配置-mysql"}},[s._v("#")]),s._v(" 1. 配置 MySQL")]),s._v(" "),a("h3",{attrs:{id:"_1-1-安装-mysql-可选"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-安装-mysql-可选"}},[s._v("#")]),s._v(" 1.1 安装 MySQL（可选）")]),s._v(" "),a("p",[s._v("友情提示：安装 MySQL 是可选步骤，也可以购买 MySQL 云服务。")]),s._v(" "),a("p",[s._v("① 执行如下命令，进行 MySQL 的安装。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## ① 安装 MySQL 5.7 版本的软件源 https://dev.mysql.com/downloads/repo/yum/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Uvh")]),s._v(" https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## ② 安装 MySQL Server 5.7 版本")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql-server "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--nogpgcheck")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## ③ 查看 MySQL 的安装版本。结果是 mysqld  Ver 5.7.37 for Linux on x86_64 (MySQL Community Server (GPL))")]),s._v("\nmysqld "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("② 修改 "),a("code",[s._v("/etc/my.cnf")]),s._v(" 文件，在文末加上 "),a("code",[s._v("lower_case_table_names=1")]),s._v(" 和 "),a("code",[s._v("validate_password=off")]),s._v(" 配置，执行 "),a("code",[s._v("systemctl restart mysqld")]),s._v(" 命令重启。")]),s._v(" "),a("p",[s._v("③ 执行 "),a("code",[s._v("grep password /var/log/mysqld.log")]),s._v(" 命令，获得 MySQL 临时密码。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-04-16T09:39:57.365086Z "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Note"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" A temporary password is generated "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" root@localhost: ZOKUaehW2e.e\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("④ 执行如下命令，修改 MySQL 的密码，设置允许远程连接。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## ① 连接 MySQL Server 服务，并输入临时密码")]),s._v("\nmysql "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-uroot")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## ② 修改密码，123456 可改成你想要的密码")]),s._v("\nalter user "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" identified by "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## ③ 设置允许远程连接")]),s._v("\nuse mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nupdate user "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%'")]),s._v(" where user "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nFLUSH PRIVILEGES"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h3",{attrs:{id:"_1-2-导入-sql-脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-导入-sql-脚本"}},[s._v("#")]),s._v(" 1.2 导入 SQL 脚本")]),s._v(" "),a("p",[s._v("创建一个名字为 "),a("code",[s._v("ruoyi-vue-pro")]),s._v(" 数据库，执行数据库对应的 "),a("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/tree/master/sql",target:"_blank",rel:"noopener noreferrer"}},[a("code",[s._v("sql")]),s._v(" "),a("OutboundLink")],1),s._v("目录下的 SQL 文件，进行初始化。")]),s._v(" "),a("img",{attrs:{src:t(792)}}),s._v(" "),a("h2",{attrs:{id:"_2-配置-redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置-redis"}},[s._v("#")]),s._v(" 2. 配置 Redis")]),s._v(" "),a("p",[s._v("友情提示：安装 Redis 是可选步骤，也可以购买 Redis 云服务。")]),s._v(" "),a("p",[s._v("执行如下命令，进行 Redis 的安装。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## ① 安装 remi 软件源")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" http://rpms.famillecollet.com/enterprise/remi-release-7.rpm\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## ② 安装最新 Redis 版本。如果想要安装指定版本，可使用 yum --enablerepo=remi install redis-6.0.6 -y 命令")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--enablerepo")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("remi "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" redis \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## ③ 查看 Redis 的安装版本。结果是 Redis server v=6.2.6 sha=00000000:0 malloc=jemalloc-5.1.0 bits=64 build=4ab9a06393930489")]),s._v("\nredis-server "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## ④ 启动 Redis 服务")]),s._v("\nsystemctl restart redis\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("ul",[a("li",[s._v("端口是 6379，密码未设置")])]),s._v(" "),a("h2",{attrs:{id:"_3-部署后端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-部署后端"}},[s._v("#")]),s._v(" 3. 部署后端")]),s._v(" "),a("h3",{attrs:{id:"_3-1-修改配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-修改配置"}},[s._v("#")]),s._v(" 3.1 修改配置")]),s._v(" "),a("p",[s._v("后端 dev 开发环境对应的是 "),a("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/blob/master/yudao-server/src/main/resources/application-dev.yaml",target:"_blank",rel:"noopener noreferrer"}},[a("code",[s._v("application-dev.yaml")]),s._v(" "),a("OutboundLink")],1),s._v("配置文件，主要是修改 MySQL 和 Redis 为你的地址。如下图所示：")]),s._v(" "),a("img",{attrs:{src:t(793)}}),s._v(" "),a("h3",{attrs:{id:"_3-2-编译后端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-编译后端"}},[s._v("#")]),s._v(" 3.2 编译后端")]),s._v(" "),a("p",[s._v("在项目的根目录下，执行 "),a("code",[s._v("mvn clean package -Dmaven.test.skip=true")]),s._v(" 命令，编译后端项目，构建出它的 Jar 包。如下图所示：")]),s._v(" "),a("img",{attrs:{src:t(794)}}),s._v(" "),a("p",[s._v("疑问：-Dmaven.test.skip=true 是什么意思？")]),s._v(" "),a("p",[s._v("跳过单元测试的执行。如果你项目的单元测试写的不错，建议使用 "),a("code",[s._v("mvn clean package")]),s._v(" 命令，执行单元测试，保证交付的质量。")]),s._v(" "),a("h3",{attrs:{id:"_3-3-上传-jar-包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-上传-jar-包"}},[s._v("#")]),s._v(" 3.3 上传 Jar 包")]),s._v(" "),a("p",[s._v("在 Linux 服务器上创建 "),a("code",[s._v("/work/projects/yudao-server")]),s._v(" 目录，使用 "),a("code",[s._v("scp")]),s._v(" 命令或者 FTP 工具，将 "),a("code",[s._v("yudao-server.jar")]),s._v(" 上传到该目录下。如下图所示：")]),s._v(" "),a("img",{attrs:{src:t(795)}}),s._v(" "),a("p",[s._v("疑问：如果构建 War 包，部署到 Tomcat 下？")]),s._v(" "),a("p",[s._v("并不推荐采用 War 包部署到 Tomcat 下。如果真的需要，可以参考 "),a("a",{attrs:{href:"https://www.baeldung.com/spring-boot-war-tomcat-deploy",target:"_blank",rel:"noopener noreferrer"}},[s._v("《Deploy a Spring Boot WAR into a Tomcat Server》 "),a("OutboundLink")],1),s._v("文章。")]),s._v(" "),a("h3",{attrs:{id:"_3-4-编写脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-编写脚本"}},[s._v("#")]),s._v(" 3.4 编写脚本")]),s._v(" "),a("p",[s._v("在 "),a("code",[s._v("/work/projects/yudao-server")]),s._v(" 目录下，新建 Shell 脚本 "),a("code",[s._v("deploy.sh")]),s._v("，用于启动后端项目。编写内容如下：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DATE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%Y%m%d%H%M"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 基础路径")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BASE_PATH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/work/projects/yudao-server\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务名称。同时约定部署服务的 jar 包名字也为它。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SERVER_NAME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yudao-server\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 环境")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PROFILES_ACTIVE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("dev\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# heapError 存放路径")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("HEAP_ERROR_PATH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BASE_PATH")]),s._v("/heapError\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# JVM 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JAVA_OPS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-Xms512m -Xmx512m -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath='),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$HEAP_ERROR_PATH")]),s._v('"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SkyWalking Agent 配置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#export SW_AGENT_NAME=$SERVER_NAME")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#export SW_AGENT_COLLECTOR_BACKEND_SERVICES=192.168.0.84:11800")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#export SW_GRPC_LOG_SERVER_HOST=192.168.0.84")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#export SW_AGENT_TRACE_IGNORE_PATH="Redisson/PING,/actuator/**,/admin/**"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#export JAVA_AGENT=-javaagent:/work/skywalking/apache-skywalking-apm-bin/agent/skywalking-agent.jar")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止：优雅关闭之前已经启动的服务")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("stop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"[stop] 开始停止 '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BASE_PATH")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SERVER_NAME")]),s._v('"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PID")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ef")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" $BASE_PATH/$SERVER_NAME "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"grep"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $2}'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果 Java 服务启动中，则进行关闭")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PID")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 正常关闭")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"[stop] '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BASE_PATH")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SERVER_NAME")]),s._v(" 运行中，开始 kill ["),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PID")]),s._v(']"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-15")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PID")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 等待最大 120 秒，直到关闭完成。")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("((")]),s._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("120")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")])]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PID")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ef")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" $BASE_PATH/$SERVER_NAME "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"grep"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $2}'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PID")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\c"}},[s._v("\\c")]),s._v('"')]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[stop] 停止 $BASE_PATH/$SERVER_NAME 成功'")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("break")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\t\t    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果正常关闭失败，那么进行强制 kill -9 进行关闭")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PID")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"[stop] '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BASE_PATH")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SERVER_NAME")]),s._v(" 失败，强制 kill -9 "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PID")]),s._v('"')]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-9")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PID")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果 Java 服务未启动，则无需关闭")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"[stop] '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BASE_PATH")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SERVER_NAME")]),s._v(' 未启动，无需停止"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动：启动后端项目")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启启动前，打印启动参数")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"[start] 开始启动 '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BASE_PATH")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SERVER_NAME")]),s._v('"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"[start] JAVA_OPS: '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_OPS")]),s._v('"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"[start] JAVA_AGENT: '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_AGENT")]),s._v('"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"[start] PROFILES: '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PROFILES_ACTIVE")]),s._v('"')]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开始启动")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-server")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_OPS")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_AGENT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-jar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BASE_PATH")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SERVER_NAME")]),s._v(".jar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--spring.profiles.active")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PROFILES_ACTIVE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" nohup.out "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"[start] 启动 '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BASE_PATH")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SERVER_NAME")]),s._v(' 完成"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 部署")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("deploy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BASE_PATH")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第一步：停止 Java 服务")]),s._v("\n    stop\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第二步：启动 Java 服务")]),s._v("\n    start\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\ndeploy\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br")])]),a("p",[s._v("友情提示：")]),s._v(" "),a("p",[s._v("脚本的详细讲解，可见 "),a("a",{attrs:{href:"https://www.iocoder.cn/Jenkins/install/?yudao",target:"_blank",rel:"noopener noreferrer"}},[s._v("《芋道 Jenkins 极简入门 》 "),a("OutboundLink")],1),s._v("的「2.3 远程服务器配置 」小节。")]),s._v(" "),a("p",[s._v("如果你想要修改脚本，主要关注 "),a("code",[s._v("BASE_PATH")]),s._v("、"),a("code",[s._v("PROFILES_ACTIVE")]),s._v("、"),a("code",[s._v("JAVA_OPS")]),s._v(" 三个参数。如下图所示：")]),s._v(" "),a("img",{attrs:{src:t(796)}}),s._v(" "),a("h3",{attrs:{id:"_3-5-启动后端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-启动后端"}},[s._v("#")]),s._v(" 3.5 启动后端")]),s._v(" "),a("p",[s._v("① 【可选】执行 "),a("code",[s._v("yum install -y java-1.8.0-openjdk")]),s._v(" 命令，安装 OpenJDK "),a("strong",[s._v("8")]),s._v("。")]),s._v(" "),a("p",[s._v("友情提示：如果已经安装 JDK，可不安装。建议使用的 JDK 版本为 8、11、17 这三个。")]),s._v(" "),a("p",[s._v("② 执行 "),a("code",[s._v("sh deploy.sh")]),s._v(" 命令，启动后端项目。日志如下：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("stop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 开始停止 /work/projects/yudao-server/yudao-server\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("stop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" /work/projects/yudao-server/yudao-server 未启动，无需停止\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 开始启动 /work/projects/yudao-server/yudao-server\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" JAVA_OPS: "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xms512m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xmx512m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+HeapDumpOnOutOfMemoryError")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:HeapDumpPath")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/work/projects/yudao-server/heapError\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" JAVA_AGENT:\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" PROFILES: dev\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 启动 /work/projects/yudao-server/yudao-server 完成\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("③ 执行 "),a("code",[s._v("tail -f nohup.out")]),s._v(" 命令，查看启动日志。看到如下内容，说明启动完成：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-04-13 00:06:20.049  INFO "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1395")]),s._v(" --- "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("TID: N/A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" c.i.yudao.server.YudaoServerApplication  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" Started YudaoServerApplication "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("35.315")]),s._v(" seconds "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("JVM running "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("36.282")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_4-部署前端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-部署前端"}},[s._v("#")]),s._v(" 4. 部署前端")]),s._v(" "),a("h3",{attrs:{id:"_4-1-修改配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-修改配置"}},[s._v("#")]),s._v(" 4.1 修改配置")]),s._v(" "),a("p",[s._v("前端 dev 开发环境对应的是 "),a("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/blob/master/yudao-ui-admin/.env.dev",target:"_blank",rel:"noopener noreferrer"}},[a("code",[s._v(".env.dev")]),s._v(" "),a("OutboundLink")],1),s._v("配置文件，主要是修改 "),a("code",[s._v("VUE_APP_BASE_API")]),s._v(" 为你的后端项目的访问地址。如下图所示：")]),s._v(" "),a("img",{attrs:{src:t(797)}}),s._v(" "),a("h3",{attrs:{id:"_4-2-编译前端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-编译前端"}},[s._v("#")]),s._v(" 4.2 编译前端")]),s._v(" "),a("p",[s._v("在 "),a("code",[s._v("yudao-ui-admin")]),s._v(" 目录下，执行 "),a("code",[s._v("npm run build:dev")]),s._v(" 命令，编译前端项目，构建出它的 "),a("code",[s._v("dist")]),s._v(" 文件，里面是 HTML、CSS、JavaScript 等静态文件。如下图所示：")]),s._v(" "),a("img",{attrs:{src:t(798)}}),s._v(" "),a("p",[s._v("如下想要打包其它环境，可使用如下命令：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build:prod "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 打包 prod 生产环境")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build:stage "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 打包 stage 预发布环境")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("其它高级参数说明【可暂时不看】：")]),s._v(" "),a("p",[s._v("① "),a("code",[s._v("PUBLIC_PATH")]),s._v("：静态资源地址，可用于七牛等 CDN 服务回源读取前端的静态文件，提升访问速度，建议 prod 生产环境使用。示例如下：")]),s._v(" "),a("img",{attrs:{src:t(799)}}),s._v(" "),a("p",[s._v("② "),a("code",[s._v("VUE_APP_APP_NAME")]),s._v("：二级部署路径，默认为 "),a("code",[s._v("/")]),s._v(" 根目录，一般不用修改。")]),s._v(" "),a("p",[s._v("③ "),a("code",[s._v("mode")]),s._v("：前端路由的模式，默认采用 "),a("code",[s._v("history")]),s._v(" 路由，一般不用修改。可以通过修改 "),a("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/blob/master/yudao-ui-admin/src/router/index.js#L173-L178",target:"_blank",rel:"noopener noreferrer"}},[a("code",[s._v("router/index.js")]),s._v(" "),a("OutboundLink")],1),s._v("来设置为 "),a("code",[s._v("hash")]),s._v(" 路由，示例如下：")]),s._v(" "),a("img",{attrs:{src:t(800)}}),s._v(" "),a("h3",{attrs:{id:"_4-3-上传-dist-文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-上传-dist-文件"}},[s._v("#")]),s._v(" 4.3 上传 "),a("code",[s._v("dist")]),s._v(" 文件")]),s._v(" "),a("p",[s._v("在 Linux 服务器上创建 "),a("code",[s._v("/work/projects/yudao-ui-admin")]),s._v(" 目录，使用 "),a("code",[s._v("scp")]),s._v(" 命令或者 FTP 工具，将 "),a("code",[s._v("dist")]),s._v(" 上传到该目录下。如下图所示：")]),s._v(" "),a("img",{attrs:{src:t(801)}}),s._v(" "),a("h3",{attrs:{id:"_4-4-启动前端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-启动前端"}},[s._v("#")]),s._v(" 4.4 启动前端？")]),s._v(" "),a("p",[s._v("前端无法直接启动，而是通过 Nginx 转发读取 "),a("code",[s._v("/work/projects/yudao-ui-admin")]),s._v(" 目录的静态文件。")]),s._v(" "),a("h2",{attrs:{id:"_5-配置-nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-配置-nginx"}},[s._v("#")]),s._v(" 5. 配置 Nginx")]),s._v(" "),a("h3",{attrs:{id:"_5-1-安装-nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-安装-nginx"}},[s._v("#")]),s._v(" 5.1 安装 Nginx")]),s._v(" "),a("p",[s._v("参考 "),a("a",{attrs:{href:"https://docs.nginx.com/nginx/admin-guide/installing-nginx/installing-nginx-open-source/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Nginx 官方文档 "),a("OutboundLink")],1),s._v("，安装 Nginx 服务。命令如下：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 添加 yum 源")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" epel-release\nyum update\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 安装 nginx")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nginx\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 启动 nginx ")]),s._v("\nnginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("Nginx 默认配置文件是 "),a("code",[s._v("/etc/nginx/nginx.conf")]),s._v("。")]),s._v(" "),a("hr"),s._v(" "),a("p",[s._v("下面，来看两种 Nginx 的配置，分别满足服务器 IP、独立域名的不同场景。")]),s._v(" "),a("h3",{attrs:{id:"_5-2-方式一-服务器-ip-访问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-方式一-服务器-ip-访问"}},[s._v("#")]),s._v(" 5.2 方式一：服务器 IP 访问")]),s._v(" "),a("p",[s._v("① 修改 Nginx 配置，内容如下：")]),s._v(" "),a("div",{staticClass:"language-nginx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("worker_processes")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("events")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("worker_connections")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("http")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("include")]),s._v("       mime.types")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default_type")]),s._v("  application/octet-stream")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sendfile")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("on")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("keepalive_timeout")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("gzip")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("on")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("gzip_min_length")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1k")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置允许压缩的页面最小字节数")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("gzip_buffers")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16k")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用来存储 gzip 的压缩结果")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("gzip_http_version")]),s._v(" 1.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 识别 HTTP 协议版本")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("gzip_comp_level")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置 gzip 的压缩比 1-9。1 压缩比最小但最快，而 9 相反")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("gzip_types")]),s._v(" gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定压缩类型")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("gzip_proxied")]),s._v(" any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 无论后端服务器的 headers 头返回什么信息，都无条件启用压缩")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("listen")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server_name")]),s._v("  192.168.225.2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 重要！！！修改成你的外网 IP/域名")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" /")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 前端项目")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("root")]),s._v("   /work/projects/yudao-ui-admin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v("  index.html index.htm")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try_files")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$uri")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$uri")]),s._v("/ /index.html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" /admin-api/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 后端项目 - 管理后台")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy_pass")]),s._v(" http://localhost:48080/admin-api/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 重要！！！proxy_pass 需要设置为后端项目所在服务器的 IP")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy_set_header")]),s._v(" Host "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$http_host")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy_set_header")]),s._v(" X-Real-IP "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$remote_addr")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy_set_header")]),s._v(" REMOTE-HOST "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$remote_addr")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy_set_header")]),s._v(" X-Forwarded-For "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$proxy_add_x_forwarded_for")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" /app-api/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 后端项目 - 用户 App")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy_pass")]),s._v(" http://localhost:48080/app-api/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 重要！！！proxy_pass 需要设置为后端项目所在服务器的 IP")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy_set_header")]),s._v(" Host "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$http_host")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy_set_header")]),s._v(" X-Real-IP "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$remote_addr")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy_set_header")]),s._v(" REMOTE-HOST "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$remote_addr")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy_set_header")]),s._v(" X-Forwarded-For "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$proxy_add_x_forwarded_for")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br")])]),a("p",[s._v("② 执行 "),a("code",[s._v("nginx -s reload")]),s._v(" 命令，重新加载 Nginx 配置。")]),s._v(" "),a("p",[s._v("③ 请求 "),a("a",{attrs:{href:"http://192.168.225.2/admin-api/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://192.168.225.2/admin-api/ "),a("OutboundLink")],1),s._v("地址，成功访问后端项目，返回结果如下：")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("401")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token null keyword"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"msg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"账号未登录"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("④ 请求 "),a("a",{attrs:{href:"http://192.168.225.2/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://192.168.225.2 "),a("OutboundLink")],1),s._v("地址，成功访问前端项目，返回前端界面如下：")]),s._v(" "),a("img",{attrs:{src:t(802)}}),s._v(" "),a("h3",{attrs:{id:"_5-3-方式二-独立域名访问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-方式二-独立域名访问"}},[s._v("#")]),s._v(" 5.3 方式二：独立域名访问")]),s._v(" "),a("p",[s._v("友情提示：在前端项目的编译时，需要把 "),a("code",[s._v("VUE_APP_BASE_API")]),s._v(" 修改为后端项目对应的域名。")]),s._v(" "),a("p",[s._v("例如说，这里使用的是 "),a("code",[s._v("http://api.iocoder.cn")])]),s._v(" "),a("p",[s._v("① 修改 Nginx 配置，内容如下：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("worker_processes  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nevents "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    worker_connections  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nhttp "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    include       mime.types"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    default_type  application/octet-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    sendfile        on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    keepalive_timeout  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("gzip")]),s._v(" on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    gzip_min_length 1k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置允许压缩的页面最小字节数")]),s._v("\n    gzip_buffers "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" 16k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用来存储 gzip 的压缩结果")]),s._v("\n    gzip_http_version "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 识别 HTTP 协议版本")]),s._v("\n    gzip_comp_level "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置 gzip 的压缩比 1-9。1 压缩比最小但最快，而 9 相反")]),s._v("\n    gzip_types text/plain application/x-javascript text/css application/xml application/javascript"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定压缩类型")]),s._v("\n    gzip_proxied any"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 无论后端服务器的 headers 头返回什么信息，都无条件启用压缩")]),s._v("\n\n    server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 前端项目")]),s._v("\n        listen       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        server_name  admin.iocoder.cn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 重要！！！修改成你的前端域名")]),s._v("\n\n        location / "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 前端项目")]),s._v("\n            root   /work/projects/yudao-ui-admin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            index  index.html index.htm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            try_files "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$uri")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$uri")]),s._v("/ /index.html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 后端项目")]),s._v("\n        listen       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        server_name  api.iocoder.cn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 重要！！！修改成你的外网 IP/域名")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 不要使用 location / 转发到后端项目，因为 druid、admin 等监控，不需要外网可访问。或者增加 Nginx IP 白名单限制也可以。")]),s._v("\n\n        location /admin-api/ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 后端项目 - 管理后台")]),s._v("\n            proxy_pass http://localhost:48080/admin-api/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 重要！！！proxy_pass 需要设置为后端项目所在服务器的 IP")]),s._v("\n            proxy_set_header Host "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$http_host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            proxy_set_header X-Real-IP "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$remote_addr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            proxy_set_header REMOTE-HOST "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$remote_addr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            proxy_set_header X-Forwarded-For "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$proxy_add_x_forwarded_for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        location /app-api/ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 后端项目 - 用户 App")]),s._v("\n            proxy_pass http://localhost:48080/app-api/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 重要！！！proxy_pass 需要设置为后端项目所在服务器的 IP")]),s._v("\n            proxy_set_header Host "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$http_host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            proxy_set_header X-Real-IP "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$remote_addr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            proxy_set_header REMOTE-HOST "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$remote_addr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            proxy_set_header X-Forwarded-For "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$proxy_add_x_forwarded_for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br")])]),a("p",[s._v("② 执行 "),a("code",[s._v("nginx -s reload")]),s._v(" 命令，重新加载 Nginx 配置。")]),s._v(" "),a("p",[s._v("③ 请求 "),a("a",{attrs:{href:"http://api.iocoder.cn/admin-api/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://api.iocoder.cn/admin-api/ "),a("OutboundLink")],1),s._v("地址，成功访问后端项目，返回结果如下：")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("401")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token null keyword"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"msg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"账号未登录"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("④ 请求 "),a("a",{attrs:{href:"http://admin.iocoder.cn/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://admin.iocoder.cn "),a("OutboundLink")],1),s._v("地址，成功访问前端项目，返回前端界面如下：")]),s._v(" "),a("img",{attrs:{src:t(803)}})])}),[],!1,null,null,null);a.default=e.exports},791:function(s,a,t){s.exports=t.p+"assets/img/img_1.df9a909f.png"},792:function(s,a,t){s.exports=t.p+"assets/img/img_2.b5a65ecc.png"},793:function(s,a,t){s.exports=t.p+"assets/img/img_3.b10d5b3b.png"},794:function(s,a,t){s.exports=t.p+"assets/img/img_4.6c7ae9b8.png"},795:function(s,a){s.exports="data:image/png;base64,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"},796:function(s,a,t){s.exports=t.p+"assets/img/img_6.fdbe6dc8.png"},797:function(s,a,t){s.exports=t.p+"assets/img/img_7.a4718219.png"},798:function(s,a,t){s.exports=t.p+"assets/img/img_8.8026a70f.png"},799:function(s,a,t){s.exports=t.p+"assets/img/img_9.d44a464d.png"},800:function(s,a,t){s.exports=t.p+"assets/img/img_10.cc16b529.png"},801:function(s,a,t){s.exports=t.p+"assets/img/img_11.b750bee6.png"},802:function(s,a,t){s.exports=t.p+"assets/img/img_12.6c23585b.png"},803:function(s,a,t){s.exports=t.p+"assets/img/img_13.681e906d.png"}}]);