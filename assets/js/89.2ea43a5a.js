(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{1253:function(e,t,a){"use strict";a.r(t);var r=a(4),s=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"通用方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通用方法"}},[e._v("#")]),e._v(" 通用方法")]),e._v(" "),t("p",[e._v("本小节，分享前端项目的常用方法。")]),e._v(" "),t("h2",{attrs:{id:"_1-缓存配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-缓存配置"}},[e._v("#")]),e._v(" 1. 缓存配置")]),e._v(" "),t("p",[e._v("友情提示：")]),e._v(" "),t("p",[e._v("该小节，基于 "),t("a",{attrs:{href:"https://kailong110120130.gitee.io/vue-element-plus-admin-doc/guide/settings.html#%E7%BC%93%E5%AD%98%E9%85%8D%E7%BD%AE",target:"_blank",rel:"noopener noreferrer"}},[e._v("《vue element plus admin —— 项目配置「缓存配置 」》 "),t("OutboundLink")],1),e._v("的内容修改。")]),e._v(" "),t("h3",{attrs:{id:"_1-1-说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-说明"}},[e._v("#")]),e._v(" 1.1 说明")]),e._v(" "),t("p",[e._v("在项目中，你可以看到很多地方都使用了 "),t("code",[e._v("wsCache.set")]),e._v(" 或者 "),t("code",[e._v("wsCache.get")]),e._v("，这是基于 "),t("a",{attrs:{href:"https://github.com/wuchangming/web-storage-cache",target:"_blank",rel:"noopener noreferrer"}},[e._v("web-storage-cache "),t("OutboundLink")],1),e._v("进行封装，采用 "),t("code",[e._v("hook")]),e._v(" 的形式。")]),e._v(" "),t("p",[e._v("该插件对HTML5 "),t("code",[e._v("localStorage")]),e._v(" 和 "),t("code",[e._v("sessionStorage")]),e._v(" 进行了扩展，添加了超时时间，序列化方法。可以直接存储 "),t("code",[e._v("json")]),e._v(" 对象，同时可以非常简单的进行超时时间的设置。")]),e._v(" "),t("p",[e._v("本项目默认是采用 "),t("code",[e._v("sessionStorage")]),e._v(" 的存储方式，如果更改，可以直接在 "),t("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-vue3/blob/master/src/hooks/web/useCache.ts",target:"_blank",rel:"noopener noreferrer"}},[e._v("useCache.ts "),t("OutboundLink")],1),e._v("中把 "),t("code",[e._v("type: CacheType = 'sessionStorage'")]),e._v(" 改为 "),t("code",[e._v("type: CacheType = 'localStorage'")]),e._v("，这样项目中的所有用到的地方，都会变成该方式进行数据存储。")]),e._v(" "),t("p",[e._v("如果只想单个更改，可以传入存储类型 "),t("code",[e._v("const { wsCache } = useCache('localStorage')")]),e._v("，既可只适用当前存储对象。")]),e._v(" "),t("p",[e._v("注意：")]),e._v(" "),t("p",[e._v("更改完默认存储方式后，需要清除浏览器缓存并重新登录，以免造成不可描述的问题。")]),e._v(" "),t("h3",{attrs:{id:"_1-2-示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-示例"}},[e._v("#")]),e._v(" 1.2 示例")]),e._v(" "),t("img",{attrs:{src:a(893)}}),e._v(" "),t("h2",{attrs:{id:"_2-设置水印"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-设置水印"}},[e._v("#")]),e._v(" 2. 设置水印")]),e._v(" "),t("p",[e._v("参见 "),t("a",{attrs:{href:"https://kailong110120130.gitee.io/vue-element-plus-admin-doc/hooks/useWatermark.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("《vue element plus admin —— useWatermark》"),t("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=s.exports},893:function(e,t,a){e.exports=a.p+"assets/img/img_25.bd5fddf2.png"}}]);