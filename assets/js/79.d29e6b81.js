(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{1004:function(s,t,a){"use strict";a.r(t);var e=a(4),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"基于iptables开启端口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基于iptables开启端口"}},[s._v("#")]),s._v(" 基于iptables开启端口")]),s._v(" "),t("h2",{attrs:{id:"_1、本地测试3306是否开启"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、本地测试3306是否开启"}},[s._v("#")]),s._v(" 1、本地测试3306是否开启")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("首先要ping一下看是否联通\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".43.47\n\n之后使用telnet命令查看是否可用\ntelnet "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".43.47 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"_2、开启3306端口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、开启3306端口"}},[s._v("#")]),s._v(" 2、开启3306端口")]),s._v(" "),t("h3",{attrs:{id:"_2-1、常用指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1、常用指令"}},[s._v("#")]),s._v(" 2.1、常用指令")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("查看防火墙状态：\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" iptables status\n\n重启防火墙：\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" iptables restart\n\n查看3306端口状态\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" -an"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"_2-2-编辑防火墙配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-编辑防火墙配置文件"}},[s._v("#")]),s._v(" 2.2 编辑防火墙配置文件")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/sysconfig/iptables\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("注：一定注意自己的虚拟机系统是什么")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ubuntu 使用\n-A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 3306 -j ACCEPT \n\nCentOS 使用\n-A INPUT -m state --state NEW -m tcp -p tcp --dport 3306 -j ACCEPT \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("img",{attrs:{src:a(341)}}),s._v(" "),t("blockquote",[t("p",[s._v("注意上述代码要放在如下之后")]),s._v(" "),t("p",[s._v("-A INPUT -m state --state NEW -m tcp -p tcp --dport 22 -j ACCEPT")]),s._v(" "),t("p",[s._v("注意上述代码要放在如下之前")]),s._v(" "),t("p",[s._v("-A INPUT -j REJECT --reject-with icmp-host-prohibited")])]),s._v(" "),t("h3",{attrs:{id:"_2-3-重启防火墙"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-重启防火墙"}},[s._v("#")]),s._v(" 2.3 重启防火墙")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" iptables restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);t.default=n.exports},341:function(s,t,a){s.exports=a.p+"assets/img/9.202dd74a.png"}}]);